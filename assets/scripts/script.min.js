const inputsTypeTel=document.querySelectorAll('input[type="tel"]');inputsTypeTel.length>0&&inputsTypeTel.forEach((e=>{new Inputmask({mask:"+7 999 999 99 99",placeholder:"+7 XXX XXX XX XX"}).mask(e)})),fetch("../assets/img/icons-sprite.svg").then((e=>e.text())).then((e=>{document.getElementById("svg-sprite").innerHTML=e}));const body=document.querySelector("body"),bodyScrollLock=()=>{body.classList.add("scroll-lock")},bodyScrollUnlock=()=>{body.classList.remove("scroll-lock")},headerBurger=document.querySelector(".js-header-burger"),headerNav=document.querySelector(".js-header-nav");headerBurger&&headerNav&&headerBurger.addEventListener("click",(()=>{headerBurger.classList.toggle("is-active"),headerNav.classList.toggle("is-open"),headerBurger.setAttribute("aria-expanded",headerBurger.classList.contains("is-active")?"true":"false")}));const navExpandableLinks=document.querySelectorAll(".js-nav-expandable-link");if(navExpandableLinks.length){const e=e=>{e.classList.remove("is-open"),e.querySelector(".header-nav__list-item-button").setAttribute("aria-expanded","false")},t=(t,r)=>{navExpandableLinks.forEach((r=>{r!==t&&e(r)})),t.classList.toggle("is-open"),r.setAttribute("aria-expanded",t.classList.contains("is-open")?"true":"false")};navExpandableLinks.forEach((e=>{const r=e.querySelector(".header-nav__list-item-button");r.addEventListener("click",(()=>t(e,r)))}))}const heroSwiper=new Swiper(".js-hero-swiper",{slidesPerView:"auto",spaceBetween:10,pagination:{el:".js-hero-swiper-pagination"}}),resultSwiper=new Swiper(".js-result-swiper",{slidesPerView:"auto",spaceBetween:10,pagination:{el:".js-result-swiper-pagination"}}),technologiesSwiper=new Swiper(".js-technologies-swiper",{slidesPerView:"auto",spaceBetween:10,pagination:{el:".js-technologies-swiper-pagination"}}),partnersSwiper=new Swiper(".js-partners-swiper",{slidesPerView:1,spaceBetween:10,pagination:{el:".js-partners-swiper-pagination"}}),benefitsSwiper=new Swiper(".js-benefits-swiper",{slidesPerView:1,spaceBetween:10,pagination:{el:".js-benefits-swiper-pagination"}}),baseBiohackSwiper=new Swiper(".js-base-biohack-swiper",{slidesPerView:1,spaceBetween:10,pagination:{el:".js-base-biohack-swiper-pagination"}}),biohackProductsColumns=document.querySelectorAll(".biohack-products__column");biohackProductsColumns.length&&biohackProductsColumns.forEach((e=>{new Swiper(e.querySelector(".js-biohack-products-swiper"),{slidesPerView:1,spaceBetween:10,pagination:{el:e.querySelector(".js-biohack-products-swiper-pagination")}})}));const historySwitchers=document.querySelectorAll("[data-history-switcher]"),historyPages=document.querySelectorAll(".history-page");historySwitchers.length&&historySwitchers.forEach((e=>{const t=e.getAttribute("data-history-switcher"),r=document.querySelector(`[data-history-year="${t}"]`);r&&e.addEventListener("click",(()=>{historySwitchers.forEach((e=>{e.setAttribute("aria-checked","false")})),e.setAttribute("aria-checked","true"),historyPages.forEach((e=>{e.setAttribute("aria-hidden","true"),e.classList.add("hidden")})),r.setAttribute("aria-hidden","false")}))}));const conceptModalButtons=document.querySelectorAll("[data-concept-modal]");if(conceptModalButtons.length){const r=document.querySelectorAll("[data-concept]");r.forEach((e=>{e.querySelector(".concept-modal__close").addEventListener("click",(()=>{e.setAttribute("aria-hidden","true"),bodyScrollUnlock()}))})),conceptModalButtons.forEach((e=>{const t=e.getAttribute("data-concept-modal"),o=document.querySelector(`[data-concept="${t}"]`);e.addEventListener("click",(()=>{r.forEach((e=>{e!==o&&e.setAttribute("aria-hidden","true")})),conceptModalButtons.forEach((t=>{t!==e&&t.setAttribute("aria-expanded","false")})),"false"===o.getAttribute("aria-hidden")?(bodyScrollUnlock(),e.setAttribute("aria-expanded","false"),o.setAttribute("aria-hidden","true")):(e.setAttribute("aria-expanded","true"),o.setAttribute("aria-hidden","false"),window.innerWidth<1320&&bodyScrollLock())}))}))}const productionModalButtons=document.querySelectorAll("[data-production-technologies-modal]");if(productionModalButtons.length){const o=document.querySelectorAll("[data-production-technologies]");o.forEach((e=>{e.querySelector(".production-technologies-modal__close").addEventListener("click",(()=>{e.setAttribute("aria-hidden","true"),bodyScrollUnlock()}))})),productionModalButtons.forEach((e=>{const t=e.getAttribute("data-production-technologies-modal"),r=document.querySelector(`[data-production-technologies="${t}"]`);e.addEventListener("click",(()=>{o.forEach((e=>{e!==r&&e.setAttribute("aria-hidden","true")})),productionModalButtons.forEach((t=>{t!==e&&t.setAttribute("aria-expanded","false")})),"false"===r.getAttribute("aria-hidden")?(bodyScrollUnlock(),e.setAttribute("aria-expanded","false"),r.setAttribute("aria-hidden","true")):(e.setAttribute("aria-expanded","true"),r.setAttribute("aria-hidden","false"),window.innerWidth<1320&&bodyScrollLock())})),window.innerWidth>=1320&&productionModalButtons[0].click()}))}const partnerPrinciples=document.querySelectorAll(".partner-principles");partnerPrinciples.length&&partnerPrinciples.forEach((e=>{const t=e.querySelector(".partner-principles__button"),r=e.querySelector(".partner-principles__wrapper-content");t.addEventListener("click",(()=>{const e="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",e?"false":"true"),r.setAttribute("aria-hidden",e?"true":"false")}))}));const headerLangs=document.querySelectorAll(".js-header-lang");headerLangs.length&&headerLangs.forEach((e=>{e.querySelector("button.header-lang__button").addEventListener("click",(()=>{e.classList.toggle("is-active")}))}));const biohackProductsCategories=document.querySelectorAll(".biohack-products__category"),biohackProductsCategoriesPlaceholed=document.querySelector(".biohack-products__categories-placeholder");function debounce(e,t){let r;return function(...o){clearTimeout(r),r=setTimeout((()=>{e.apply(this,o)}),t)}}function throttle(e,t){let r=0;return function(...o){const i=Date.now();i-r>=t&&(e.apply(this,o),r=i)}}biohackProductsCategories.length&&biohackProductsCategories.forEach((e=>{const t=document.querySelectorAll(".biohack-products__column"),r=e.getAttribute("data-category-handler");e.addEventListener("click",(()=>{"true"!==e.getAttribute("aria-expanded")?(t.forEach((e=>{e.setAttribute("aria-hidden","true")})),biohackProductsCategories.forEach((e=>{e.setAttribute("aria-expanded","false")})),e.setAttribute("aria-expanded","true"),document.querySelector(`[data-category="${r}"]`).setAttribute("aria-hidden","false"),biohackProductsCategoriesPlaceholed.classList.remove("is-active")):biohackProductsCategoriesPlaceholed.classList.toggle("is-active")}))}));const historyBlock=document.querySelector(".history"),historyScrollerBlock=document.querySelector(".history-page__scroller"),historyWrapperBlock=document.querySelector(".history-page__wrapper");if(historyBlock&&window.innerWidth>=1320){gsap.registerPlugin(ScrollTrigger);const i=document.querySelectorAll(".history-page");function checkHistoryYear(){const e=historyWrapperBlock.getBoundingClientRect();i.forEach(((t,r)=>{if(t.getBoundingClientRect().x-e.x<300&&(!i[r+1]||i[r+1].getBoundingClientRect().x-e.x>0)){const e=t.getAttribute("data-history-year");i.forEach((e=>{e.setAttribute("aria-hidden","true")})),historySwitchers.forEach((e=>{e.setAttribute("aria-checked","false")})),t.setAttribute("aria-hidden","false"),[...historySwitchers].find((t=>t.getAttribute("data-history-switcher")===e)).setAttribute("aria-checked","true")}}))}function scrollToHistoryElement(e,t){const r=historyBlock.getBoundingClientRect(),o=historyBlock.parentNode.getBoundingClientRect(),i=o.top+window.scrollY,a=o.bottom+window.scrollY-r.height;scrollTo({top:i+(a-i)/5*t,behavior:"smooth"})}historySwitchers.forEach(((e,t)=>{e.addEventListener("click",(()=>{const r=e.getAttribute("data-history-switcher"),o=document.querySelector(`[data-history-year="${r}"]`);o&&scrollToHistoryElement(o,t)}))})),imagesLoaded(document.body,(()=>{ScrollTrigger.config({autoRefreshEvents:"visibilitychange,DOMContentLoaded,load,resize"});gsap.timeline({scrollTrigger:{trigger:historyBlock,start:"top top",end:"bottom+=600% bottom",scrub:!0,pin:!0,pinSpacer:!0,ease:"none",onUpdate:throttle(checkHistoryYear,300),onLeave:checkHistoryYear}}).fromTo(historyScrollerBlock,{x:0,ease:"none"},{x:"-83.63%",ease:"none"})}))}